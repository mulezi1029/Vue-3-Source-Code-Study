{
  "version": 3,
  "sources": ["../../shared/src/index.ts", "../src/vnode.ts", "../src/h.ts"],
  "sourcesContent": ["export function isObject(obj: any): boolean {\r\n\treturn obj !== null && typeof obj === 'object'\r\n}\r\n\r\nexport function isFunction(value: any): boolean {\r\n\treturn typeof value === 'function'\r\n}\r\n\r\nexport function isString(value: any): boolean {\r\n\treturn typeof value === 'string'\r\n}\r\n", "import { isString } from '@vue/shared'\r\nimport { shapeFlags } from 'packages/shared/src/shapeFlags'\r\n\r\nexport function isVNode(vnode) {\r\n\treturn vnode.__v_isVnode === true\r\n}\r\n\r\nexport function isSameVNode(n1, n2) {\r\n\treturn n1.type === n2.type && n1.key === n2.key\r\n}\r\n\r\n/**\r\n * \u6700\u5E95\u5C42\u7528\u4E8E\u521B\u5EFA\u6700\u57FA\u672C\u7684\u865A\u62DF\u8282\u70B9\u7684API\r\n * @param type\r\n * @param props\r\n * @param children\r\n * @returns\r\n */\r\nexport function createVNode(type: any, props?: any, children?: any) {\r\n\t// shapeFlag \u6807\u8BC6\u7528\u6765\u533A\u5206\u5BF9\u5E94\u865A\u62DF\u8282\u70B9(\u5305\u62EC\u5B50\u7EA7)\u7684\u7C7B\u578B\r\n\tconst shapeFlag = isString(type) ? shapeFlags.ELEMENT : 0\r\n\r\n\t// \u521B\u5EFA\u865A\u62DF\u8282\u70B9\uFF1A\u76EE\u524D\u53EA\u5177\u5907\u6700\u57FA\u672C\u7684\u7ED3\u6784\r\n\tconst vnode = {\r\n\t\t__v_isVnode: true,\r\n\t\ttype,\r\n\t\tprops,\r\n\t\tchildren,\r\n\t\tshapeFlag,\r\n\t\tkey: props?.key,\r\n\t\tel: null,\r\n\t}\r\n\r\n\tif (children) {\r\n\t\t// children \u8981\u4E48\u662F\u6570\u7EC4\u8981\u4E48\u662F\u6587\u672C\r\n\t\tconst type = isString(children) ? shapeFlags.TEXT_CHILDREN : shapeFlags.ARRAY_CHILDREN\r\n\t\tvnode.shapeFlag |= type\r\n\t}\r\n\r\n\treturn vnode\r\n}\r\n", "import { isObject } from '@vue/shared'\r\nimport { createVNode, isVNode } from './vnode'\r\n\r\n// h \u6839\u636E\u4F20\u5165\u7684\u53C2\u6570\u5B9E\u73B0\u91CD\u8F7D\u6548\u679C\r\nexport function h(type: any, propsOrChildren?: any, children?: any) {\r\n\tconst length = arguments.length\r\n\r\n\t// \u53EA\u6709\u4E00\u4E2A\u53C2\u6570:type only: h('div')\r\n\tif (length === 1) {\r\n\t\treturn createVNode(type)\r\n\t}\r\n\t// \u6709\u4E09\u4E2A\u4EE5\u4E0A\u7684\u53C2\u6570\uFF0C\u7B2C\u4E00\u4E2A\u53C2\u6570\u662Ftype\uFF0C\u7B2C\u4E8C\u4E2A\u53C2\u6570\u5FC5\u987B\u662F props\uFF0C\u5269\u4E0B\u7684\u53C2\u6570\u662Fchildren\r\n\t//  type props children: h('div', { id: 'app' }, 'hello', 'world')\r\n\telse if (length > 3) {\r\n\t\tchildren = Array.from(arguments).slice(2) // \u53D8\u4E3A\u6570\u7EC4\r\n\t\treturn createVNode(type, propsOrChildren, children)\r\n\t}\r\n\t// \u4E24\u4E2A\u53C2\u6570\uFF1A\u53EF\u80FD\u662F type props\uFF0C\u53EF\u80FD\u662Ftype children\r\n\t// h(type, {})  h(type, vnode)  h(type, 'text')  h(type, [])\r\n\telse if (length === 2) {\r\n\t\t// \u7B2C\u4E8C\u4E2A\u53C2\u6570\u662F\u5BF9\u8C61\u4E14\u4E0D\u662F\u6570\u7EC4\u65F6\uFF1A\u6709\u4E24\u79CD\u60C5\u51B5 h(type,props)  h(type,vnode)\r\n\t\tif (isObject(propsOrChildren) && !Array.isArray(propsOrChildren)) {\r\n\t\t\treturn isVNode(propsOrChildren)\r\n\t\t\t\t? createVNode(type, null, [propsOrChildren])\r\n\t\t\t\t: createVNode(type, propsOrChildren)\r\n\t\t} else {\r\n\t\t\t// \u5269\u4E0B\u7684\u4E24\u79CD\uFF1A\u6570\u7EC4\u3001\u6587\u672C\uFF1A type text \uFF0C type []\r\n\t\t\treturn createVNode(type, null, propsOrChildren) // \u6570\u7EC4\u6216\u8005\u6587\u672C\r\n\t\t}\r\n\t}\r\n\t// \u4E09\u4E2A\u53C2\u6570:\u80AF\u5B9A\u6709 type \u548C props\uFF0C\u7B2C\u4E09\u4E2A\u53C2\u6570\u7684children \u53EF\u80FD\u662F vnode\uFF0Ctext\uFF0Carray\uFF0C\u53EA\u8981\u4E0D\u662Farray\uFF0C\u5C31\u53D8\u4E3Aarray\r\n\telse if (length === 3) {\r\n\t\tif (Array.isArray(children)) {\r\n\t\t\treturn createVNode(type, propsOrChildren, children)\r\n\t\t} else {\r\n\t\t\treturn createVNode(type, propsOrChildren, [children])\r\n\t\t}\r\n\t}\r\n}\r\n"],
  "mappings": ";AAAO,SAAS,SAAS,KAAmB;AAC3C,SAAO,QAAQ,QAAQ,OAAO,QAAQ;AACvC;AAMO,SAAS,SAAS,OAAqB;AAC7C,SAAO,OAAO,UAAU;AACzB;;;ACPO,SAAS,QAAQ,OAAO;AAC9B,SAAO,MAAM,gBAAgB;AAC9B;AAEO,SAAS,YAAY,IAAI,IAAI;AACnC,SAAO,GAAG,SAAS,GAAG,QAAQ,GAAG,QAAQ,GAAG;AAC7C;AASO,SAAS,YAAY,MAAW,OAAa,UAAgB;AAEnE,QAAM,YAAY,SAAS,IAAI,sBAAyB;AAGxD,QAAM,QAAQ;AAAA,IACb,aAAa;AAAA,IACb;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA,KAAK,OAAO;AAAA,IACZ,IAAI;AAAA,EACL;AAEA,MAAI,UAAU;AAEb,UAAMA,QAAO,SAAS,QAAQ;AAC9B,UAAM,aAAaA;AAAA,EACpB;AAEA,SAAO;AACR;;;ACpCO,SAAS,EAAE,MAAW,iBAAuB,UAAgB;AACnE,QAAM,SAAS,UAAU;AAGzB,MAAI,WAAW,GAAG;AACjB,WAAO,YAAY,IAAI;AAAA,EACxB,WAGS,SAAS,GAAG;AACpB,eAAW,MAAM,KAAK,SAAS,EAAE,MAAM,CAAC;AACxC,WAAO,YAAY,MAAM,iBAAiB,QAAQ;AAAA,EACnD,WAGS,WAAW,GAAG;AAEtB,QAAI,SAAS,eAAe,KAAK,CAAC,MAAM,QAAQ,eAAe,GAAG;AACjE,aAAO,QAAQ,eAAe,IAC3B,YAAY,MAAM,MAAM,CAAC,eAAe,CAAC,IACzC,YAAY,MAAM,eAAe;AAAA,IACrC,OAAO;AAEN,aAAO,YAAY,MAAM,MAAM,eAAe;AAAA,IAC/C;AAAA,EACD,WAES,WAAW,GAAG;AACtB,QAAI,MAAM,QAAQ,QAAQ,GAAG;AAC5B,aAAO,YAAY,MAAM,iBAAiB,QAAQ;AAAA,IACnD,OAAO;AACN,aAAO,YAAY,MAAM,iBAAiB,CAAC,QAAQ,CAAC;AAAA,IACrD;AAAA,EACD;AACD;",
  "names": ["type"]
}
